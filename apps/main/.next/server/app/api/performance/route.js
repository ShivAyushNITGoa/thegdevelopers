"use strict";(()=>{var e={};e.id=996,e.ids=[996],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5150:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>d,originalPathname:()=>g,requestAsyncStorage:()=>u,routeModule:()=>c,serverHooks:()=>l,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>m});var a={};t.r(a),t.d(a,{DELETE:()=>DELETE,GET:()=>GET,POST:()=>POST}),t(4388);var s=t(5789),o=t(4902),n=t(914);!function(){var e=Error("Cannot find module '@/lib/metrics-db'");throw e.code="MODULE_NOT_FOUND",e}();let i=Object(function(){var e=Error("Cannot find module '@/lib/metrics-db'");throw e.code="MODULE_NOT_FOUND",e}())();async function GET(e){try{let r=e.nextUrl.searchParams,t=r.get("type"),a=r.get("limit")?parseInt(r.get("limit"),10):100,s=r.get("page")?parseInt(r.get("page"),10):1,o=await i.getMetrics({type:t,limit:a,page:s}),c=await i.getMetricsCounts();return n.Z.json({metrics:o,counts:c},{status:200})}catch(e){return console.error("Error retrieving metrics:",e),n.Z.json({error:"Failed to retrieve metrics"},{status:500})}}async function POST(e){try{let r=await e.json();if(!r||!r.type)return n.Z.json({error:"Invalid metrics data. Type is required."},{status:400});let t={...r,timestamp:r.timestamp||new Date().toISOString(),userAgent:e.headers.get("user-agent")||"unknown",ip:e.headers.get("x-forwarded-for")||e.ip||"unknown",url:r.url||e.headers.get("referer")||"unknown"};return await i.storeMetrics(t),n.Z.json({success:!0},{status:201})}catch(e){return console.error("Error storing metrics:",e),n.Z.json({error:"Failed to store metrics"},{status:500})}}async function DELETE(){try{return await i.clearMetrics(),n.Z.json({success:!0},{status:200})}catch(e){return console.error("Error clearing metrics:",e),n.Z.json({error:"Failed to clear metrics"},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/performance/route",pathname:"/api/performance",filename:"route",bundlePath:"app/api/performance/route"},resolvedPagePath:"C:\\Users\\shiva\\Downloads\\Tools\\The GDevelopers\\apps\\main\\src\\app\\api\\performance\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:p,serverHooks:l,headerHooks:d,staticGenerationBailout:m}=c,g="/api/performance/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[501],()=>__webpack_exec__(5150));module.exports=t})();